<!DOCTYPE html>
<html lang="pt-BR">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="description" content="CrÃ´nicas do Bairro Esquecido - RPG TÃ¡tico com Realidade Aumentada">
  <meta name="theme-color" content="#1a1a2e">
  <link rel="icon" type="image/png" href="/favicon.png">
  <title>CrÃ´nicas do Bairro Esquecido</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap"
    rel="stylesheet">

  <!-- Import Map for Three.js -->


  <!-- Styles -->
  <link rel="stylesheet" href="styles/main.css">
</head>

<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="screen active">
    <div class="loading-content">
      <h1 class="game-title">CrÃ´nicas do Bairro Esquecido</h1>
      <div class="loading-bar-container">
        <div class="loading-bar" id="loading-bar"></div>
      </div>
      <p class="loading-text" id="loading-text">Carregando...</p>
    </div>
  </div>

  <!-- Home Screen -->
  <div id="home-screen" class="screen">
    <div class="home-container">
      <header class="home-header">
        <h1 class="game-title">CrÃ´nicas do Bairro Esquecido</h1>
        <p class="game-subtitle">RPG TÃ¡tico em Realidade Aumentada</p>
      </header>

      <nav class="home-menu">
        <button class="menu-btn primary" id="btn-combat">
          <span class="btn-icon">âš”ï¸</span>
          <span class="btn-text">Combate & ExploraÃ§Ã£o</span>
        </button>
        <button class="menu-btn ar-btn" id="btn-ar-combat">
          <span class="btn-icon">ğŸ“±</span>
          <span class="btn-text">Combate AR</span>
          <span class="ar-badge">BETA</span>
        </button>
        <button class="menu-btn" id="btn-game-master">
          <span class="btn-icon">ğŸ“œ</span>
          <span class="btn-text">Game Master</span>
        </button>
        <button class="menu-btn" id="btn-map">
          <span class="btn-icon">ğŸ—ºï¸</span>
          <span class="btn-text">Mapa</span>
        </button>
        <button class="menu-btn" id="btn-profile">
          <span class="btn-icon">ğŸ‘¤</span>
          <span class="btn-text">Perfil</span>
        </button>
        <button class="menu-btn inventory-btn" id="btn-inventory">
          <span class="btn-icon">ğŸ’</span>
          <span class="btn-text">InventÃ¡rio</span>
          <span class="gold-badge" id="home-gold-display">0 ğŸª™</span>
        </button>
        <button class="menu-btn" id="btn-settings">
          <span class="btn-icon">âš™ï¸</span>
          <span class="btn-text">ConfiguraÃ§Ãµes</span>
        </button>
      </nav>
    </div>
  </div>

  <!-- Combat Screen -->
  <div id="combat-screen" class="screen">
    <!-- 3D/AR Scene Container -->
    <div id="scene-container"></div>

    <!-- Combat HUD -->
    <div id="combat-hud">
      <button id="btn-toggle-log" class="toggle-log-btn">ğŸ“</button>
      <button id="btn-end-turn" class="end-turn-btn">Finalizar Turno</button>
      <!-- Party Panel (Left Side) -->
      <aside id="party-panel">
        <div class="hero-slot" data-hero="0">
          <div class="hero-portrait">
            <div class="hero-icon">âš”ï¸</div>
          </div>
          <div class="hero-info">
            <span class="hero-name">Guerreiro</span>
            <div class="stat-bar hp-bar">
              <div class="stat-fill" style="width: 100%"></div>
              <span class="stat-text">20/20</span>
            </div>
            <div class="stat-bar pa-bar">
              <div class="stat-fill" style="width: 100%"></div>
              <span class="stat-text">2 PA</span>
            </div>
          </div>
        </div>

        <div class="hero-slot" data-hero="1">
          <div class="hero-portrait">
            <div class="hero-icon">ğŸ”®</div>
          </div>
          <div class="hero-info">
            <span class="hero-name">Mago</span>
            <div class="stat-bar hp-bar">
              <div class="stat-fill" style="width: 100%"></div>
              <span class="stat-text">12/12</span>
            </div>
            <div class="stat-bar pa-bar">
              <div class="stat-fill" style="width: 100%"></div>
              <span class="stat-text">3 PA</span>
            </div>
          </div>
        </div>

        <div class="hero-slot" data-hero="2">
          <div class="hero-portrait">
            <div class="hero-icon">ğŸ—¡ï¸</div>
          </div>
          <div class="hero-info">
            <span class="hero-name">Ladino</span>
            <div class="stat-bar hp-bar">
              <div class="stat-fill" style="width: 100%"></div>
              <span class="stat-text">14/14</span>
            </div>
            <div class="stat-bar pa-bar">
              <div class="stat-fill" style="width: 100%"></div>
              <span class="stat-text">3 PA</span>
            </div>
          </div>
        </div>

        <div class="hero-slot" data-hero="3">
          <div class="hero-portrait">
            <div class="hero-icon">âœï¸</div>
          </div>
          <div class="hero-info">
            <span class="hero-name">ClÃ©rigo</span>
            <div class="stat-bar hp-bar">
              <div class="stat-fill" style="width: 100%"></div>
              <span class="stat-text">16/16</span>
            </div>
            <div class="stat-bar pa-bar">
              <div class="stat-fill" style="width: 100%"></div>
              <span class="stat-text">2 PA</span>
            </div>
          </div>
        </div>
      </aside>

      <!-- Turn Indicator -->
      <div id="turn-indicator">
        <span class="turn-label">Turno do</span>
        <span class="turn-hero">Guerreiro</span>
        <span class="turn-round">Round 1</span>
      </div>

      <!-- Cards Area (Bottom) -->
      <div id="cards-area">
        <div id="cards-container">
          <!-- Cards will be rendered here by JavaScript -->
        </div>
      </div>

      <!-- Active Hero Portrait (Bottom Right) -->
      <div id="active-hero-portrait">
        <div class="portrait-frame">
          <div class="portrait-icon">âš”ï¸</div>
        </div>
        <div class="portrait-name">Guerreiro</div>
      </div>

      <!-- Enemy Inspection Panel (AR) -->
      <div id="inspection-panel" class="hidden">
        <div class="inspection-header">
          <span class="inspection-icon">ğŸ‘¹</span>
          <span class="inspection-name">Goblin</span>
        </div>
        <div class="inspection-stats">
          <div class="inspection-stat hp">
            <span class="label">PV</span>
            <span class="value">10/10</span>
          </div>
        </div>
        <div class="inspection-details">
          <!-- Weaknesses/Resistances injected here -->
        </div>
      </div>

      <!-- Game Master Dialogue -->
      <div id="gm-dialogue" class="hidden">
        <div class="gm-content">
          <div class="gm-avatar">ğŸ“–</div>
          <div class="gm-text-container">
            <p class="gm-text" id="gm-text"></p>
          </div>
          <button class="gm-continue" id="gm-continue">Continuar</button>
        </div>
      </div>

      <!-- Target Selection Indicator -->
      <div id="target-mode" class="hidden">
        <p>Selecione um alvo</p>
        <button id="cancel-target">Cancelar</button>
      </div>

      <!-- Combat Log -->
      <div id="combat-log" class="hidden">
        <div id="log-entries"></div>
      </div>

      <!-- Menu Button (Exit Combat) -->
      <button id="btn-combat-menu" class="combat-menu-btn" title="Menu">
        <span class="menu-icon">â˜°</span>
      </button>

      <!-- Combat Pause Menu Modal -->
      <div id="combat-pause-menu" class="combat-pause-overlay hidden">
        <div class="pause-menu-content">
          <h3>â¸ï¸ Jogo Pausado</h3>
          <p class="pause-menu-text">O que deseja fazer?</p>
          <div class="pause-menu-buttons">
            <button id="btn-resume-combat" class="pause-btn resume-btn">
              <span>â–¶ï¸</span> Continuar
            </button>
            <button id="btn-exit-combat" class="pause-btn exit-btn">
              <span>ğŸ </span> Voltar ao Menu
            </button>
          </div>
          <p class="pause-warning">âš ï¸ Sair do combate nÃ£o salva o progresso desta batalha!</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settings-modal" class="modal hidden">
    <div class="modal-content">
      <h2>ConfiguraÃ§Ãµes</h2>

      <div class="setting-group">
        <label class="setting-label">
          <span>NarraÃ§Ã£o por Voz</span>
          <input type="checkbox" id="setting-voice" checked>
          <span class="toggle-switch"></span>
        </label>
      </div>

      <div class="setting-group">
        <label class="setting-label">
          <span>Velocidade da Fala</span>
          <input type="range" id="setting-speech-rate" min="0.5" max="1.5" step="0.1" value="0.9">
          <span class="range-value" id="speech-rate-value">0.9x</span>
        </label>
      </div>

      <div class="setting-group">
        <label class="setting-label">
          <span>Volume</span>
          <input type="range" id="setting-volume" min="0" max="1" step="0.1" value="1">
          <span class="range-value" id="volume-value">100%</span>
        </label>
      </div>

      <button class="modal-close" id="close-settings">Fechar</button>
    </div>
  </div>

  <!-- Settings Screen -->
  <div id="settings-screen" class="screen">
    <div class="settings-container">
      <header class="settings-header">
        <button class="back-btn" id="settings-back">â† Voltar</button>
        <h2>âš™ï¸ ConfiguraÃ§Ãµes</h2>
      </header>

      <div class="settings-content">
        <!-- Audio Settings -->
        <section class="settings-section">
          <h3>ğŸ”Š Ãudio</h3>

          <div class="setting-item">
            <label for="music-volume">MÃºsica</label>
            <input type="range" id="music-volume" min="0" max="100" value="30">
            <span class="setting-value" id="music-volume-value">30%</span>
          </div>

          <div class="setting-item">
            <label for="sfx-volume">Efeitos Sonoros</label>
            <input type="range" id="sfx-volume" min="0" max="100" value="70">
            <span class="setting-value" id="sfx-volume-value">70%</span>
          </div>

          <div class="setting-item">
            <label for="voice-volume">Voz do Game Master</label>
            <input type="range" id="voice-volume" min="0" max="100" value="80">
            <span class="setting-value" id="voice-volume-value">80%</span>
          </div>

          <div class="setting-item toggle">
            <label for="mute-toggle">Mudo</label>
            <input type="checkbox" id="mute-toggle">
          </div>
        </section>

        <!-- Gameplay Settings -->
        <section class="settings-section">
          <h3>ğŸ® Gameplay</h3>

          <div class="setting-item toggle">
            <label for="tips-toggle">Mostrar Dicas</label>
            <input type="checkbox" id="tips-toggle" checked>
          </div>

          <div class="setting-item toggle">
            <label for="auto-turn-toggle">Auto Passar Turno</label>
            <input type="checkbox" id="auto-turn-toggle">
          </div>
        </section>

        <!-- Data Settings -->
        <section class="settings-section">
          <h3>ğŸ’¾ Dados</h3>

          <button class="danger-btn" id="reset-save-btn">Resetar Progresso</button>
          <p class="setting-warning">Isso apagarÃ¡ todo seu progresso!</p>
        </section>
      </div>

      <button class="save-settings-btn" id="save-settings-btn">Salvar ConfiguraÃ§Ãµes</button>
    </div>
  </div>

  <!-- Mission Select Screen -->
  <div id="mission-screen" class="screen">
    <div class="mission-container">
      <header class="mission-header">
        <button class="back-btn" id="mission-back">â† Voltar</button>
        <h2>ğŸ“– CapÃ­tulo 1: O Despertar</h2>
        <div class="chapter-progress">
          <div class="progress-bar">
            <div class="progress-fill" id="chapter-progress-fill" style="width: 0%"></div>
          </div>
          <span id="chapter-progress-text">0/5 missÃµes</span>
        </div>
      </header>

      <div class="mission-list" id="mission-list">
        <!-- MissÃµes serÃ£o inseridas via JavaScript -->
      </div>

      <div class="mission-details" id="mission-details">
        <h3 id="mission-title">Selecione uma MissÃ£o</h3>
        <p id="mission-description">Escolha uma missÃ£o para ver os detalhes.</p>
        <div class="mission-info">
          <span id="mission-difficulty"></span>
          <span id="mission-rewards"></span>
        </div>
        <button class="start-mission-btn" id="start-mission-btn" disabled>Iniciar MissÃ£o</button>
      </div>
    </div>
  </div>

  <!-- Map Screen -->
  <div id="map-screen" class="screen">
    <div class="map-container">
      <header class="map-header">
        <button class="back-btn" id="map-back">â† Voltar</button>
        <h2>ğŸ—ºï¸ Bairro Esquecido</h2>
        <div class="map-legend-btn" id="map-legend-toggle">
          <span>â„¹ï¸</span>
        </div>
      </header>

      <!-- Map Legend (toggleable) -->
      <div class="map-legend hidden" id="map-legend">
        <h4>Legenda</h4>
        <div class="legend-item">
          <span class="legend-icon locked">ğŸ”’</span>
          <span>Bloqueada</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon available">âš”ï¸</span>
          <span>DisponÃ­vel</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon complete">âœ…</span>
          <span>ConcluÃ­da</span>
        </div>
        <div class="legend-item">
          <span class="legend-icon boss">ğŸ’€</span>
          <span>Chefe</span>
        </div>
      </div>

      <!-- Interactive Map Area -->
      <div class="map-viewport" id="map-viewport">
        <div class="map-canvas" id="map-canvas">
          <!-- Map Background Decoration -->
          <div class="map-decoration">
            <div class="fog fog-1"></div>
            <div class="fog fog-2"></div>
            <div class="fog fog-3"></div>
          </div>

          <!-- Path Connections SVG -->
          <svg class="map-paths" id="map-paths" viewBox="0 0 100 100" preserveAspectRatio="none">
            <!-- Paths will be drawn by JavaScript -->
          </svg>

          <!-- Location Markers -->
          <div class="map-locations" id="map-locations">
            <!-- Location markers will be inserted by JavaScript -->
          </div>
        </div>
      </div>

      <!-- Selected Location Details -->
      <div class="map-location-panel" id="map-location-panel">
        <div class="panel-content">
          <h3 id="map-location-title">Selecione uma LocalizaÃ§Ã£o</h3>
          <p id="map-location-description">Toque em um local no mapa para ver detalhes.</p>
          <div class="location-info" id="map-location-info" style="display: none;">
            <span id="map-location-difficulty"></span>
            <span id="map-location-rewards"></span>
          </div>
          <button class="explore-btn" id="explore-location-btn" disabled>Explorar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Profile Screen -->
  <div id="profile-screen" class="screen">
    <div class="profile-container">
      <header class="profile-header">
        <button class="back-btn" id="profile-back">â† Voltar</button>
        <h2>ğŸ‘¤ Perfil do Aventureiro</h2>
      </header>

      <div class="profile-content">
        <!-- Player Card -->
        <section class="profile-card player-card">
          <div class="player-avatar">
            <div class="avatar-frame">
              <span class="avatar-icon">ğŸ›¡ï¸</span>
            </div>
            <div class="avatar-level" id="player-level">Nv 1</div>
          </div>
          <div class="player-info">
            <h3 class="player-name" id="player-name">Aventureiro</h3>
            <p class="player-title" id="player-title">Novato do Bairro Esquecido</p>
            <div class="player-xp-bar">
              <div class="xp-fill" id="player-xp-fill" style="width: 0%"></div>
              <span class="xp-text" id="player-xp-text">0/100 XP</span>
            </div>
          </div>
        </section>

        <!-- Stats Overview -->
        <section class="profile-section stats-section">
          <h3>ğŸ“Š EstatÃ­sticas</h3>
          <div class="stats-grid">
            <div class="stat-card">
              <span class="stat-icon">âš”ï¸</span>
              <span class="stat-value" id="stat-combats">0</span>
              <span class="stat-label">Combates</span>
            </div>
            <div class="stat-card">
              <span class="stat-icon">ğŸ†</span>
              <span class="stat-value" id="stat-victories">0</span>
              <span class="stat-label">VitÃ³rias</span>
            </div>
            <div class="stat-card">
              <span class="stat-icon">ğŸ’€</span>
              <span class="stat-value" id="stat-enemies">0</span>
              <span class="stat-label">Inimigos</span>
            </div>
            <div class="stat-card">
              <span class="stat-icon">ğŸ’¥</span>
              <span class="stat-value" id="stat-damage">0</span>
              <span class="stat-label">Dano Total</span>
            </div>
            <div class="stat-card">
              <span class="stat-icon">ğŸ’š</span>
              <span class="stat-value" id="stat-healing">0</span>
              <span class="stat-label">Cura Total</span>
            </div>
            <div class="stat-card">
              <span class="stat-icon">â±ï¸</span>
              <span class="stat-value" id="stat-time">0m</span>
              <span class="stat-label">Tempo</span>
            </div>
          </div>
        </section>

        <!-- Campaign Progress -->
        <section class="profile-section campaign-section">
          <h3>ğŸ“– Progresso da Campanha</h3>
          <div class="campaign-progress-card">
            <div class="campaign-info">
              <span class="campaign-chapter" id="campaign-chapter">CapÃ­tulo 1</span>
              <span class="campaign-mission" id="campaign-mission">MissÃ£o 1</span>
            </div>
            <div class="campaign-bar">
              <div class="campaign-fill" id="campaign-fill" style="width: 0%"></div>
            </div>
            <span class="campaign-text" id="campaign-text">0/5 missÃµes completas</span>
          </div>
        </section>

        <!-- Heroes Overview -->
        <section class="profile-section heroes-section">
          <h3>ğŸ¦¸ Seus HerÃ³is</h3>
          <div class="heroes-grid" id="heroes-grid">
            <!-- Heroes will be populated by JavaScript -->
          </div>
        </section>

        <!-- Unlocked Cards -->
        <section class="profile-section cards-section">
          <h3>ğŸƒ Cartas Desbloqueadas</h3>
          <div class="cards-hero-tabs">
            <button class="cards-tab active" data-hero="todos">Todas</button>
            <button class="cards-tab" data-hero="guerreiro">âš”ï¸</button>
            <button class="cards-tab" data-hero="mago">ğŸ”®</button>
            <button class="cards-tab" data-hero="ladino">ğŸ—¡ï¸</button>
            <button class="cards-tab" data-hero="clerigo">âœï¸</button>
            <button class="cards-tab" data-hero="universal">ğŸŒŸ</button>
          </div>
          <div class="unlocked-cards-grid" id="unlocked-cards-grid">
            <!-- Cards will be populated by JavaScript -->
          </div>
        </section>

        <!-- Achievements -->
        <section class="profile-section achievements-section">
          <h3>ğŸ… Conquistas</h3>
          <div class="achievements-grid" id="achievements-grid">
            <!-- Achievements will be populated by JavaScript -->
          </div>
        </section>

      </div>
    </div>
  </div>

  <!-- Inventory Screen -->
  <div id="inventory-screen" class="screen">
    <div class="inventory-container">
      <header class="inventory-header">
        <button class="back-btn" id="inventory-back">â† Voltar</button>
        <h2>ğŸ’ InventÃ¡rio</h2>
        <div class="gold-display">
          <span class="gold-icon">ğŸª™</span>
          <span class="gold-amount" id="inventory-gold">0</span>
        </div>
      </header>

      <!-- Inventory Tabs -->
      <div class="inventory-tabs">
        <button class="inv-tab active" data-tab="items">ğŸ“¦ Itens</button>
        <button class="inv-tab" data-tab="equip">âš”ï¸ Equipar</button>
        <button class="inv-tab" data-tab="shop">ğŸ›’ Loja</button>
      </div>

      <!-- Items Tab Content -->
      <div class="inventory-content" id="inventory-items-tab">
        <!-- Category Filters -->
        <div class="item-filters">
          <button class="filter-btn active" data-filter="todos">Todos</button>
          <button class="filter-btn" data-filter="arma">Armas</button>
          <button class="filter-btn" data-filter="armadura">Armaduras</button>
          <button class="filter-btn" data-filter="acessorio">AcessÃ³rios</button>
          <button class="filter-btn" data-filter="consumivel">ConsumÃ­veis</button>
        </div>

        <!-- Items Grid -->
        <div class="items-grid" id="inventory-grid">
          <!-- Items will be populated by JavaScript -->
        </div>

        <!-- Item Details Panel -->
        <div class="item-details-panel hidden" id="item-details-panel">
          <div class="item-detail-header">
            <span class="item-detail-icon" id="item-detail-icon">ğŸ—¡ï¸</span>
            <div class="item-detail-info">
              <h4 id="item-detail-name">Nome do Item</h4>
              <span class="item-detail-rarity" id="item-detail-rarity">Comum</span>
            </div>
            <button class="close-panel-btn" id="close-item-details">âœ•</button>
          </div>
          <p class="item-detail-desc" id="item-detail-desc">DescriÃ§Ã£o do item...</p>
          <div class="item-detail-stats" id="item-detail-stats">
            <!-- Stats will be populated by JavaScript -->
          </div>
          <div class="item-detail-actions">
            <button class="use-item-btn" id="use-item-btn">Usar</button>
            <button class="sell-item-btn" id="sell-item-btn">Vender</button>
          </div>
        </div>
      </div>

      <!-- Equip Tab Content -->
      <div class="inventory-content hidden" id="inventory-equip-tab">
        <div class="equip-heroes-select">
          <button class="hero-select-btn active" data-hero="guerreiro">âš”ï¸ Guerreiro</button>
          <button class="hero-select-btn" data-hero="mago">ğŸ”® Mago</button>
          <button class="hero-select-btn" data-hero="ladino">ğŸ—¡ï¸ Ladino</button>
          <button class="hero-select-btn" data-hero="clerigo">âœï¸ ClÃ©rigo</button>
        </div>

        <div class="equip-panel">
          <!-- Hero Equipment Slots -->
          <div class="equip-slots">
            <div class="equip-slot" data-slot="arma">
              <span class="slot-label">Arma</span>
              <div class="slot-item empty" id="slot-arma">
                <span class="slot-icon">ğŸ—¡ï¸</span>
                <span class="slot-text">Vazio</span>
              </div>
            </div>
            <div class="equip-slot" data-slot="armadura">
              <span class="slot-label">Armadura</span>
              <div class="slot-item empty" id="slot-armadura">
                <span class="slot-icon">ğŸ›¡ï¸</span>
                <span class="slot-text">Vazio</span>
              </div>
            </div>
            <div class="equip-slot" data-slot="acessorio">
              <span class="slot-label">AcessÃ³rio</span>
              <div class="slot-item empty" id="slot-acessorio">
                <span class="slot-icon">ğŸ’</span>
                <span class="slot-text">Vazio</span>
              </div>
            </div>
          </div>

          <!-- Hero Stats Preview -->
          <div class="equip-hero-stats" id="equip-hero-stats">
            <h4>EstatÃ­sticas</h4>
            <div class="hero-stats-list">
              <div class="hero-stat-item">
                <span>â¤ï¸ Vida</span>
                <span id="equip-stat-pv">20</span>
              </div>
              <div class="hero-stat-item">
                <span>âš”ï¸ Ataque</span>
                <span id="equip-stat-ataque">0</span>
              </div>
              <div class="hero-stat-item">
                <span>ğŸ›¡ï¸ Defesa</span>
                <span id="equip-stat-defesa">0</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Available Items to Equip -->
        <div class="equip-available">
          <h4>Itens DisponÃ­veis</h4>
          <div class="equip-items-grid" id="equip-items-grid">
            <!-- Equipable items will be populated by JavaScript -->
          </div>
        </div>
      </div>

      <!-- Shop Tab Content -->
      <div class="inventory-content hidden" id="inventory-shop-tab">
        <div class="shop-header">
          <p class="shop-welcome">Bem-vindo Ã  loja do Bairro Esquecido!</p>
        </div>

        <!-- Shop Category Filters -->
        <div class="item-filters">
          <button class="filter-btn active" data-filter="todos">Todos</button>
          <button class="filter-btn" data-filter="arma">Armas</button>
          <button class="filter-btn" data-filter="armadura">Armaduras</button>
          <button class="filter-btn" data-filter="acessorio">AcessÃ³rios</button>
          <button class="filter-btn" data-filter="consumivel">ConsumÃ­veis</button>
        </div>

        <!-- Shop Items Grid -->
        <div class="shop-grid" id="shop-grid">
          <!-- Shop items will be populated by JavaScript -->
        </div>

        <!-- Shop Item Preview -->
        <div class="shop-preview hidden" id="shop-preview">
          <div class="shop-preview-header">
            <span class="shop-preview-icon" id="shop-preview-icon">ğŸ—¡ï¸</span>
            <div>
              <h4 id="shop-preview-name">Nome do Item</h4>
              <span class="shop-preview-rarity" id="shop-preview-rarity">Comum</span>
            </div>
          </div>
          <p id="shop-preview-desc">DescriÃ§Ã£o...</p>
          <div class="shop-preview-stats" id="shop-preview-stats"></div>
          <div class="shop-preview-action">
            <span class="shop-price">ğŸª™ <span id="shop-preview-price">0</span></span>
            <button class="buy-btn" id="buy-item-btn">Comprar</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Level Up Modal -->
  <div id="level-up-modal" class="modal hidden">
    <div class="level-up-overlay">
      <div class="level-up-content">
        <!-- Hero Icon & Level -->
        <div class="level-up-header">
          <div class="level-up-glow"></div>
          <div class="level-up-hero-icon" id="level-up-hero-icon">âš”ï¸</div>
          <div class="level-up-badge">
            <span class="level-up-text">LEVEL UP!</span>
            <span class="level-up-hero-name" id="level-up-hero-name">Guerreiro</span>
          </div>
          <div class="level-up-level">
            <span class="old-level" id="level-up-old-level">Nv 1</span>
            <span class="level-arrow">â†’</span>
            <span class="new-level" id="level-up-new-level">Nv 2</span>
          </div>
        </div>

        <!-- Stats Gained -->
        <div class="level-up-stats">
          <h3>ğŸ“ˆ Atributos Aprimorados</h3>
          <div class="stats-gained-grid" id="level-up-stats-grid">
            <!-- Stats will be populated by JavaScript -->
          </div>
        </div>

        <!-- New Card Unlocked (if any) -->
        <div class="level-up-card hidden" id="level-up-card-section">
          <h3>ğŸƒ Nova Carta Desbloqueada!</h3>
          <div class="new-card-display">
            <div class="new-card-icon" id="new-card-icon">ğŸ”¥</div>
            <div class="new-card-info">
              <span class="new-card-name" id="new-card-name">Nova Habilidade</span>
              <span class="new-card-desc" id="new-card-desc">DescriÃ§Ã£o da nova carta...</span>
            </div>
          </div>
        </div>

        <!-- XP Progress -->
        <div class="level-up-xp">
          <span class="xp-text">PrÃ³ximo NÃ­vel:</span>
          <div class="xp-progress-bar">
            <div class="xp-progress-fill" id="level-up-xp-fill" style="width: 0%"></div>
          </div>
          <span class="xp-value" id="level-up-xp-value">0 / 150 XP</span>
        </div>

        <!-- Continue Button -->
        <button class="level-up-continue" id="level-up-continue">Continuar</button>
      </div>
    </div>
  </div>

  <!-- Game Master Screen -->
  <div id="gm-screen" class="screen">
    <div class="gm-container">
      <header class="gm-header">
        <button class="back-btn" id="gm-back">â† Voltar</button>
        <h2>ğŸ“– Game Master</h2>
      </header>

      <!-- GM Tabs -->
      <div class="gm-tabs">
        <button class="gm-tab active" data-tab="cronicas">ğŸ“œ CrÃ´nicas</button>
        <button class="gm-tab" data-tab="config">âš™ï¸ Config</button>
        <button class="gm-tab" data-tab="mestre">ğŸ­ Mestre</button>
      </div>

      <!-- Tab: CrÃ´nicas -->
      <div class="gm-content" id="gm-cronicas-tab">
        <!-- Intro -->
        <section class="gm-section intro-section">
          <div class="gm-intro-card">
            <div class="gm-intro-icon">ğŸ›ï¸</div>
            <div class="gm-intro-text">
              <h3>Bairro Esquecido</h3>
              <p>ConheÃ§a a histÃ³ria deste lugar amaldiÃ§oado e as criaturas que o habitam...</p>
            </div>
          </div>
        </section>

        <!-- CapÃ­tulos Desbloqueados -->
        <section class="gm-section chapters-section">
          <h3>ğŸ“š CapÃ­tulos</h3>
          <div class="chapters-list" id="gm-chapters-list">
            <!-- Chapters will be populated by JavaScript -->
          </div>
        </section>

        <!-- BestiÃ¡rio -->
        <section class="gm-section bestiary-section">
          <h3>ğŸ‘¹ BestiÃ¡rio</h3>
          <div class="bestiary-progress">
            <div class="bestiary-bar">
              <div class="bestiary-fill" id="bestiary-fill" style="width: 0%"></div>
            </div>
            <span id="bestiary-count">0/0 criaturas descobertas</span>
          </div>
          <div class="bestiary-grid" id="bestiary-grid">
            <!-- Creatures will be populated by JavaScript -->
          </div>
        </section>

        <!-- HerÃ³is Lore -->
        <section class="gm-section heroes-lore-section">
          <h3>ğŸ¦¸ Biografias dos HerÃ³is</h3>
          <div class="heroes-lore-grid" id="heroes-lore-grid">
            <div class="hero-lore-card" data-hero="guerreiro">
              <span class="hero-lore-icon">âš”ï¸</span>
              <span class="hero-lore-name">Guerreiro</span>
              <span class="hero-lore-title">O Protetor</span>
            </div>
            <div class="hero-lore-card" data-hero="mago">
              <span class="hero-lore-icon">ğŸ”®</span>
              <span class="hero-lore-name">Mago</span>
              <span class="hero-lore-title">O Erudito</span>
            </div>
            <div class="hero-lore-card" data-hero="ladino">
              <span class="hero-lore-icon">ğŸ—¡ï¸</span>
              <span class="hero-lore-name">Ladino</span>
              <span class="hero-lore-title">A Sombra</span>
            </div>
            <div class="hero-lore-card" data-hero="clerigo">
              <span class="hero-lore-icon">âœï¸</span>
              <span class="hero-lore-name">ClÃ©rigo</span>
              <span class="hero-lore-title">O Curador</span>
            </div>
          </div>
        </section>
      </div>

      <!-- Tab: Config -->
      <div class="gm-content hidden" id="gm-config-tab">
        <section class="gm-section">
          <h3>ğŸ”Š NarraÃ§Ã£o</h3>

          <div class="gm-setting-item">
            <label for="gm-voice-enabled">Voz Habilitada</label>
            <div class="toggle-switch-container">
              <input type="checkbox" id="gm-voice-enabled" checked>
              <span class="toggle-slider"></span>
            </div>
          </div>

          <div class="gm-setting-item">
            <label for="gm-speech-rate">Velocidade da Fala</label>
            <div class="gm-range-container">
              <input type="range" id="gm-speech-rate" min="0.5" max="1.5" step="0.1" value="0.9">
              <span class="gm-range-value" id="gm-speech-rate-value">0.9x</span>
            </div>
          </div>

          <div class="gm-setting-item">
            <label for="gm-voice-volume">Volume da Voz</label>
            <div class="gm-range-container">
              <input type="range" id="gm-voice-volume" min="0" max="1" step="0.1" value="1">
              <span class="gm-range-value" id="gm-voice-volume-value">100%</span>
            </div>
          </div>

          <button class="gm-test-voice-btn" id="gm-test-voice">
            ğŸ”Š Testar Voz
          </button>
        </section>

        <section class="gm-section">
          <h3>ğŸ“œ Narrativa</h3>

          <div class="gm-setting-item">
            <label for="gm-extended-dialogues">DiÃ¡logos Extensos</label>
            <div class="toggle-switch-container">
              <input type="checkbox" id="gm-extended-dialogues" checked>
              <span class="toggle-slider"></span>
            </div>
          </div>

          <div class="gm-setting-item">
            <label for="gm-combat-tips">Dicas de Combate</label>
            <div class="toggle-switch-container">
              <input type="checkbox" id="gm-combat-tips" checked>
              <span class="toggle-slider"></span>
            </div>
          </div>

          <div class="gm-setting-item">
            <label for="gm-random-comments">ComentÃ¡rios AleatÃ³rios</label>
            <div class="toggle-switch-container">
              <input type="checkbox" id="gm-random-comments">
              <span class="toggle-slider"></span>
            </div>
          </div>
        </section>

        <section class="gm-section">
          <h3>ğŸ² Estilo do Mestre</h3>
          <div class="gm-style-options">
            <label class="gm-style-option">
              <input type="radio" name="gm-style" value="epico" checked>
              <span class="style-icon">âš”ï¸</span>
              <span class="style-name">Ã‰pico</span>
              <span class="style-desc">DramÃ¡tico e intenso</span>
            </label>
            <label class="gm-style-option">
              <input type="radio" name="gm-style" value="humoristico">
              <span class="style-icon">ğŸ˜„</span>
              <span class="style-name">HumorÃ­stico</span>
              <span class="style-desc">Leve e divertido</span>
            </label>
            <label class="gm-style-option">
              <input type="radio" name="gm-style" value="misterioso">
              <span class="style-icon">ğŸŒ™</span>
              <span class="style-name">Misterioso</span>
              <span class="style-desc">Sombrio e enigmÃ¡tico</span>
            </label>
          </div>
        </section>

        <button class="gm-save-btn" id="gm-save-config">ğŸ’¾ Salvar ConfiguraÃ§Ãµes</button>
      </div>

      <!-- Tab: Mestre -->
      <div class="gm-content hidden" id="gm-mestre-tab">
        <!-- GM Avatar -->
        <section class="gm-section gm-avatar-section">
          <div class="gm-avatar-card">
            <div class="gm-avatar-frame">
              <div class="gm-avatar-icon">ğŸ“–</div>
              <div class="gm-avatar-glow"></div>
            </div>
            <div class="gm-avatar-info">
              <h3>Mestre das CrÃ´nicas</h3>
              <p class="gm-avatar-quote" id="gm-avatar-quote">"Bem-vindo, aventureiro. Sua jornada apenas comeÃ§ou..."
              </p>
            </div>
          </div>
        </section>

        <!-- Ãšltimo Briefing -->
        <section class="gm-section">
          <h3>ğŸ¬ Ãšltimo Briefing</h3>
          <div class="gm-briefing-card" id="gm-last-briefing">
            <div class="briefing-chapter">CapÃ­tulo 1 - MissÃ£o 1</div>
            <p class="briefing-text">"A escuridÃ£o se aproxima do Bairro Esquecido..."</p>
            <button class="gm-play-briefing-btn" id="gm-play-briefing">
              â–¶ï¸ Reproduzir Novamente
            </button>
          </div>
        </section>

        <!-- Dicas do Mestre -->
        <section class="gm-section">
          <h3>ğŸ’¡ Dicas do Mestre</h3>
          <div class="gm-tips-list" id="gm-tips-list">
            <div class="gm-tip-card">
              <span class="tip-icon">âš”ï¸</span>
              <p>Use o Guerreiro para proteger aliados com baixa vida.</p>
            </div>
            <div class="gm-tip-card">
              <span class="tip-icon">ğŸ”®</span>
              <p>O Mago causa mais dano em Ã¡rea - agrupe os inimigos!</p>
            </div>
            <div class="gm-tip-card">
              <span class="tip-icon">ğŸ—¡ï¸</span>
              <p>O Ladino ganha bÃ´nus de dano contra inimigos distraÃ­dos.</p>
            </div>
            <div class="gm-tip-card">
              <span class="tip-icon">âœï¸</span>
              <p>Mantenha o ClÃ©rigo vivo - ele Ã© essencial para curas!</p>
            </div>
          </div>
        </section>

        <!-- Iniciar Combate RÃ¡pido -->
        <section class="gm-section">
          <h3>âš¡ AÃ§Ã£o RÃ¡pida</h3>
          <button class="gm-quick-combat-btn" id="gm-quick-combat">
            âš”ï¸ Iniciar Combate RÃ¡pido
          </button>
          <p class="gm-quick-desc">Inicie um combate de teste com briefing narrativo</p>
        </section>
      </div>
    </div>
  </div>

  <!-- Hero Lore Modal -->
  <div id="hero-lore-modal" class="modal hidden">
    <div class="hero-lore-overlay">
      <div class="hero-lore-content">
        <button class="modal-close-btn" id="close-hero-lore">âœ•</button>
        <div class="hero-lore-header">
          <div class="hero-lore-portrait" id="hero-lore-portrait">âš”ï¸</div>
          <div class="hero-lore-title-section">
            <h2 id="hero-lore-name">Guerreiro</h2>
            <span class="hero-lore-subtitle" id="hero-lore-subtitle">O Protetor</span>
          </div>
        </div>
        <div class="hero-lore-body">
          <p id="hero-lore-description">
            HistÃ³ria do herÃ³i...
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Creature Info Modal -->
  <div id="creature-modal" class="modal hidden">
    <div class="creature-modal-overlay">
      <div class="creature-modal-content">
        <button class="modal-close-btn" id="close-creature-modal">âœ•</button>
        <div class="creature-header">
          <span class="creature-icon" id="creature-icon">ğŸ‘¹</span>
          <div class="creature-title">
            <h2 id="creature-name">Criatura</h2>
            <span class="creature-type" id="creature-type">Tipo</span>
          </div>
        </div>
        <div class="creature-stats" id="creature-stats">
          <!-- Stats populated by JS -->
        </div>
        <p class="creature-description" id="creature-description">
          DescriÃ§Ã£o da criatura...
        </p>
        <div class="creature-defeated-count">
          <span>ğŸ’€ Derrotados:</span>
          <span id="creature-defeated-count">0</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Chapter Summary Modal -->
  <div id="chapter-modal" class="modal hidden">
    <div class="chapter-modal-overlay">
      <div class="chapter-modal-content">
        <button class="modal-close-btn" id="close-chapter-modal">âœ•</button>
        <div class="chapter-header">
          <span class="chapter-number" id="chapter-number">CapÃ­tulo 1</span>
          <h2 id="chapter-title">O Despertar</h2>
        </div>
        <div class="chapter-body">
          <p id="chapter-summary">
            Resumo do capÃ­tulo...
          </p>
        </div>
        <div class="chapter-missions" id="chapter-missions">
          <!-- Mission list populated by JS -->
        </div>
      </div>
    </div>
  </div>

  <!-- Card Reward Modal -->
  <div id="card-reward-modal" class="modal hidden">
    <div class="card-reward-overlay">
      <div class="card-reward-content">
        <!-- Header -->
        <div class="card-reward-header">
          <div class="card-reward-sparkles"></div>
          <span class="reward-title">ğŸ´ Nova Carta!</span>
          <span class="reward-subtitle">VocÃª desbloqueou uma carta especial</span>
        </div>

        <!-- Card Preview -->
        <div class="reward-card-container">
          <div class="reward-card" id="reward-card-preview">
            <div class="reward-card-rarity" id="reward-card-rarity">LendÃ¡rio</div>
            <div class="reward-card-icon" id="reward-card-icon">ğŸŒ™</div>
            <div class="reward-card-name" id="reward-card-name">Golpe Lunar</div>
            <div class="reward-card-type" id="reward-card-type">Ataque</div>
            <div class="reward-card-cost">
              <span id="reward-card-cost">3</span> PA
            </div>
            <div class="reward-card-desc" id="reward-card-desc">
              DescriÃ§Ã£o da carta...
            </div>
          </div>
        </div>

        <!-- Hero Selection (for universal cards) -->
        <div class="hero-selection" id="hero-selection">
          <p class="selection-label">Escolha qual herÃ³i receberÃ¡ esta carta:</p>
          <div class="hero-selection-grid">
            <button class="hero-select-option" data-hero="guerreiro">
              <span class="hero-option-icon">âš”ï¸</span>
              <span class="hero-option-name">Guerreiro</span>
            </button>
            <button class="hero-select-option" data-hero="mago">
              <span class="hero-option-icon">ğŸ”®</span>
              <span class="hero-option-name">Mago</span>
            </button>
            <button class="hero-select-option" data-hero="ladino">
              <span class="hero-option-icon">ğŸ—¡ï¸</span>
              <span class="hero-option-name">Ladino</span>
            </button>
            <button class="hero-select-option" data-hero="clerigo">
              <span class="hero-option-icon">âœï¸</span>
              <span class="hero-option-name">ClÃ©rigo</span>
            </button>
          </div>
        </div>

        <!-- Confirm Button -->
        <button class="card-reward-confirm" id="card-reward-confirm" disabled>
          Selecione um HerÃ³i
        </button>
      </div>
    </div>
  </div>


  <!-- Scripts -->
  <script type="module" src="src/main.js"></script>
</body>

</html>